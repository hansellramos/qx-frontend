  <div class="panel panel-default">
    <div class="panel-heading">
      Registros
      <div style="float: right">
        <button class="md-btn md-fab m-b blue" ng-click="">
          <i class="mdi-content-add i-24"></i>
        </button>
        <button class="md-btn md-fab m-b bg-white" ng-click="get()">
          <i class="mdi-navigation-refresh i-24"></i>
        </button>
      </div>
    </div>
    <table class="table table-striped">
      <thead>
        <tr>
          <td>
            <md-select ng-model="subsidiary" placeholder="Seleccione Sucursal">
              <md-option ng-repeat="subsidiary in subsidiaries" ng-value="subsidiary.id">{{ subsidiary.name }}</md-option>
            </md-select>
          </td>
          <td>
            <md-select ng-model="store" placeholder="Seleccione Tienda/Bodega">
              <md-option ng-repeat="store in stores|filter:subsidiary|orderBy:'+name'" ng-value="store.id">{{ store.name }}</md-option>
            </md-select>
          </td>
          <td>
            <md-select ng-model="product" placeholder="Seleccione Producto" ng-change="get()">
              <md-option ng-repeat="product in products|filter:store|orderBy:'+name'" ng-value="product.id">{{ product.name }}</md-option>
            </md-select>
          </td>
        </tr>
      </thead>
      <thead ng-show="product">
        <tr>
          <th ng-click="sort('reference')">
            Referencia
            <span class="glyphicon sort-icon" ng-show="sortKey=='reference'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('analisys_date')">
            Fecha Análisis
            <span class="glyphicon sort-icon" ng-show="sortKey=='analisys_date'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('elaboration_date')">
            Fecha Elaboración
            <span class="glyphicon sort-icon" ng-show="sortKey=='elaboration_date'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('due_date')">
            Fecha Vencimiento
            <span class="glyphicon sort-icon" ng-show="sortKey=='due_date'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('reception_date')">
            Fecha Recepción
            <span class="glyphicon sort-icon" ng-show="sortKey=='reception_date'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('user')">
            Usuario
            <span class="glyphicon sort-icon" ng-show="sortKey=='user'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('veredict')">
            Desición
            <span class="glyphicon sort-icon" ng-show="sortKey=='veredict'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('remission')">
            Remisión
            <span class="glyphicon sort-icon" ng-show="sortKey=='remission'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('quantity')">
            Cantidad
            <span class="glyphicon sort-icon" ng-show="sortKey=='quantity'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('existing_quantity')">
            Cantidad Existente
            <span class="glyphicon sort-icon" ng-show="sortKey=='existing_quantity'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('supplier')">
            Proveedor
            <span class="glyphicon sort-icon" ng-show="sortKey=='supplier'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th ng-click="sort('satisfies')">
            Cumple
            <span class="glyphicon sort-icon" ng-show="sortKey=='satisfies'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
          </th>
          <th></th>
        </tr>
      <tr>
        <th>
          <input ng-model="search.reference" class="form-control" placeholder="Buscar por nombre">
        </th>
        <th>
          <input ng-model="search.analysis_date" class="form-control" placeholder="Buscar por fecha de analisis">
        </th>
        <th>
          <input ng-model="search.elaboration_date" class="form-control" placeholder="Buscar por fecha de elaboracion">
        </th>
        <th>
          <input ng-model="search.due_date" class="form-control" placeholder="Buscar por fecha de vencimiento">
        </th>
        <th>
          <input ng-model="search.reception_date" class="form-control" placeholder="Buscar por fecha de recepción">
        </th>
        <th>
          <input ng-model="search.user" class="form-control" placeholder="Buscar por usuario">
        </th>
        <th>
          <input ng-model="search.veredict" class="form-control" placeholder="Buscar por desición">
        </th>
        <th>
          <input ng-model="search.remission" class="form-control" placeholder="Buscar por remisión">
        </th>
        <th>
          <input ng-model="search.quantity" class="form-control" placeholder="Buscar por cantidad">
        </th>
        <th>
          <input ng-model="search.existing_quantity" class="form-control" placeholder="Buscar por cantidad existente">
        </th>
        <th>
          <input ng-model="search.supplier" class="form-control" placeholder="Buscar por proveedor">
        </th>
        <th></th>
        <th></th>
      </tr>
      </thead>
      <tbody ng-show="product && !loading">
        <tr dir-paginate="item in items|orderBy:sortKey:reverse|filter:search:strict|itemsPerPage:pageSize">
          <td>{{item.reference}}</td>
          <td>{{item.analysis_date| date:'yyyy-MM-dd'}}</td>
          <td>{{item.elaboration_date| date:'yyyy-MM-dd'}}</td>
          <td>{{item.due_date| date:'yyyy-MM-dd'}}</td>
          <td>{{item.reception_date| date:'yyyy-MM-dd'}}</td>
          <td>{{item.user}}</td>
          <td>{{item.veredict}}</td>
          <td>{{item.remission}}</td>
          <td>{{item.quantity}}</td>
          <td>{{item.existing_quantity}}</td>
          <td>{{item.supplier}}</td>
          <td>{{item.satisfies}}</td>
          <td><a ng-href="#/app/record/{{item.id}}">Detalle</a></td>
        </tr>
      </tbody>
      <tbody ng-show="product && loading">
        <tr>
          <td>
            <md-progress-circular md-mode="indeterminate"></md-progress-circular>
          </td>
        </tr>
      </tbody>
      <tfoot ng-show="product">
        <tr>
          <td colspan="3" class="text-center">
            <label style="float: left;">Elementos por página: <input type="number" ng-model="pageSize" style="width: 50px; text-align: right;"></label>
            <dir-pagination-controls style="float: right;"
                    max-size="10"
                    direction-links="true"
                    boundary-links="true">
            </dir-pagination-controls>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
